jQuery(function(a){function d(){var b=a("select#product-type").val();"undefined"!==typeof woocommerce_admin_meta_boxes&&(a(".wc-price-based-country-upgrade-notice:not(.show)").hide(),a(".wc-price-based-country-upgrade-notice.wc-pbc-show-if-"+b).show(),a("#general_product_data .wc-price-based-country-upgrade-notice.wc-pbc-show-if-variable-subscription").hide(),a("#general_product_data .wc-price-based-country-upgrade-notice.wc-pbc-show-if-booking").hide(),a("#general_product_data .wc-price-based-country-upgrade-notice.wc-pbc-show-if-not-supported.product-type-"+
b).toggle(0>a.inArray(b,wc_price_based_country_admin_params.product_type_supported)))}a("body").on("keyup",".wcpbc_sale_price[type=text]",function(){var b=a(this),c=a("#"+b.attr("id").replace("_sale","_regular"));b=parseFloat(accounting.unformat(b.val(),woocommerce_admin.mon_decimal_point));c=parseFloat(accounting.unformat(c.val(),woocommerce_admin.mon_decimal_point));b>=c?0===a(this).parent().find(".wc_error_tip").size()&&(c=a(this).position(),a(this).after('<div class="wc_error_tip">'+woocommerce_admin.i18_sale_less_than_regular_error+
"</div>"),a(".wc_error_tip").css("left",c.left+a(this).width()-a(this).width()/2-a(".wc_error_tip").width()/2).css("top",c.top+a(this).height()).fadeIn("100")):a(".wc_error_tip").fadeOut("100",function(){a(this).remove()});return this});a("body").on("change",".wcpbc_sale_price[type=text]",function(){var b=a(this),c=a("#"+b.attr("id").replace("_sale","_regular")),e=parseFloat(accounting.unformat(b.val(),woocommerce_admin.mon_decimal_point)),d=parseFloat(accounting.unformat(c.val(),woocommerce_admin.mon_decimal_point));
e=parseFloat(accounting.unformat(b.val(),woocommerce_admin.mon_decimal_point));d=parseFloat(accounting.unformat(c.val(),woocommerce_admin.mon_decimal_point));e>=d?b.val(c.val()):a(".wc_error_tip").fadeOut("100",function(){a(this).remove()});return this});a("body").on("click",'.wcpbc_sale_price_dates[type="radio"], .wcpbc_price_method[type="radio"]',function(){var b="."+a(this).attr("name")+"_field";b=b.replace("[","_");b=b.replace("]","");a(this).closest(b).next(".wcpbc_show_if_manual").toggle("manual"==
a(this).val())});a(".wcpbc-region-settings").on("click",".select_eur",function(){var b=a(this).data("countries");b instanceof Array&&(a(this).closest("td").find("select option").each(function(c,d){-1<b.indexOf(a(d).attr("value"))&&a(d).attr("selected","selected")}),a(this).closest("td").find("select").trigger("change"));return!1});a("#wc_price_based_country_test_mode").on("change",function(){a(this).is(":checked")?a("#wc_price_based_country_test_country").closest("tr").show():a("#wc_price_based_country_test_country").closest("tr").hide()}).change();
a("#general_coupon_data #discount_type").on("change",function(){a("#general_coupon_data #zone_pricing_type").closest("p").toggle("fixed_cart"==a(this).val()||"fixed_product"==a(this).val())});a(document).ready(function(){function b(b){b.preventDefault();tb_show("Upgrade to Price Based on Country Pro now!","#TB_inline?width=600&height=350&inlineId=wcpbc-upgrade-pro-popup-content",!1);a("#TB_window").addClass("wcpbc-upgrade-pro-popup-content");a("#TB_window").css({width:"600px",height:"400px"});a("#TB_ajaxContent").css({width:"600px",
height:"380px"});a("#TB_window .button.button-primary").focus()}a('.wcpbc_sale_price_dates[type="radio"][value="manual"], .wcpbc_price_method[type="radio"][value="manual"]').each(function(){var b="."+a(this).attr("name")+"_field";b=b.replace("[","_");b=b.replace("]","");a(this).closest(b).next(".wcpbc_show_if_manual").toggle(a(this).prop("checked"))});a("#general_coupon_data #zone_pricing_type").closest("p").toggle("fixed_cart"==a("#general_coupon_data #discount_type").val()||"fixed_product"==a("#general_coupon_data #discount_type").val());
a("select.variation_actions").on("wcpbc_variable_bulk_edit_popup",b);a(".wcpbc-upgrade-pro-popup").on("click",b)});a("body").on("click","a.wcpbc-delete-zone",function(a){confirm(wc_price_based_country_admin_params.i18n_delete_zone_alert)||a.preventDefault()});a("body").on("click","input#wc_price_based_country_caching_support",function(){a(this).is(":checked")&&alert(wc_price_based_country_admin_params.i18n_caching_support_alert)});a(document).ready(d);a(document.body).on("woocommerce-product-type-change",
d);a(document.body).on("woocommerce_variations_added",d);a("#woocommerce-product-data").on("woocommerce_variations_loaded",d);a(".notice-pbc a.pbc-hide-notice").on("click",function(b){b.preventDefault();var c=a(this).closest(".notice-pbc");a(c).find(".pbc-wait").remove();a(c).append('<div class="pbc-wait"></div>');if(0<a(".notice-pbc.updating").length){var d=a(this);setTimeout(function(){d.triggerHandler("click")},100);return!1}a(c).addClass("updating");a.post(wc_price_based_country_admin_params.ajax_url,
{action:"wcpbc_hide_notice",security:a(this).data("nonce"),notice:a(this).data("notice"),remind:a(this).hasClass("remind-later")?"yes":"no"},function(){a(c).removeClass("updating");a(c).fadeOut(100)})});a(".wc-price-based-country-setting-wrapper-ads .wc-price-based-country-setting-content").append(a("p.submit"))});